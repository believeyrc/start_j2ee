<%@ page language="java" contentType="text/html; charset=UTF8" %><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF8"><title>ExtJS 异步加载树(动态树)</title><link rel="stylesheet" type="text/css" href="<%=request.getContextPath() %>/js/extjs-3.3.1-min/resources/css/ext-all.css"/><script type="text/javascript" src="<%=request.getContextPath() %>/js/extjs-3.3.1-min/adapter/ext/ext-base.js"></script><script type="text/javascript" src="<%=request.getContextPath() %>/js/extjs-3.3.1-min/ext-all.js"></script><script>Ext.onReady(function(){	var root= new Ext.tree.AsyncTreeNode( {		id:'1',		text: 'ROOT'	});	var loader= new Ext.tree.TreeLoader( {		dataUrl: 'asynchro.jsp'		//dataUrl: 'asynchro.jsp?id=1' 	//注意:不可加上参数,否则点击节点会无限循环下去	});	var tree = new Ext.tree.TreePanel({		renderTo:'tree-ct',		width:568,		height:300,		autoScroll:true,		root: root,		loader: loader	});	//tree.getRootNode().expand(); 		//注意:这一句不可用,否则导致NullPointerException	loader.on('beforeload',function(loader,node){  		this.baseParams.id=node.id; //通过这个传递参数，这样就可以点一个节点出来它的子节点来实现异步加载	},loader);});</script></head><body><div id="tree-ct"></body></html>