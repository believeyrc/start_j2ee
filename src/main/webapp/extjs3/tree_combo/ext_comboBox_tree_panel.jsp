<%@ page language="java" contentType="text/html; charset=UTF8" %><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF8"><title>简单扩展ComboBox+TreePanel(xiexueze)</title><link href="<%=request.getContextPath() %>/js/extjs-3.3.1-min/resources/css/ext-all.css" rel="stylesheet" type="text/css" /><script type="text/javascript" src="<%=request.getContextPath() %>/js/extjs-3.3.1-min/adapter/ext/ext-base.js"></script><script type="text/javascript" src="<%=request.getContextPath() %>/js/extjs-3.3.1-min/ext-all.js"></script><script type="text/javascript">var comboBoxTree;Ext.onReady(function(){	//接使用 Ext.form.ComboBox + Ext.tree.TreePanel, 将两者结合起来,不需要额外的扩展	//ComboBox的tpl里的<div id='tree'>这个ID可以改成别的, 但必须要在'expand'事件里, 将树显示在这个div上	//1.ComboBox	var comboxWithTree = new Ext.form.ComboBox({        store:new Ext.data.SimpleStore({        	fields:[],        	data:[[]]        }),        editable:false,        mode: 'local',        triggerAction:'all',        maxHeight: 200,        tpl: "<tpl for='.'><div style='height:200px'><div id='tree'></div></div></tpl>",        selectedClass:'',        onSelect:Ext.emptyFn    });    //2.TreePanel    var tree = new Ext.tree.TreePanel({        //loader: new Ext.tree.DWRTreeLoader({dwrCall:Tmplt.getTmpltTree}),        loader: new Ext.tree.TreeLoader({        	dataUrl:'treedemo.action'        }),        border:false,        root:new Ext.tree.AsyncTreeNode({        	text: '模板根目录',id:'0'        })    });    tree.on('click',function(node){          comboxWithTree.setValue(node.text);          comboxWithTree.collapse();    });    comboxWithTree.on('expand',function(){        tree.render('tree');    });    comboxWithTree.render('comboxWithTree');        //如此类推，想在下拉表里放任何东西都是可以的，以下例子放一个Panel    var comboxWithPanel = new Ext.form.ComboBox({		store:new Ext.data.SimpleStore({			fields:[],data:[[]]		}),		editable:false,		mode: 'local',		triggerAction:'all',		maxHeight: 200,		tpl: '<div style="height:200px"><div id="panel"></div></div>',		selectedClass:'',		onSelect:Ext.emptyFn	});	var tree2 = new Ext.tree.TreePanel({		//loader: new Ext.tree.DWRTreeLoader({dwrCall:Tmplt.getTmpltTree}),		loader: new Ext.tree.TreeLoader({dataUrl:'treedemo.action'}),		border:false,		autoScroll:true,		root:new Ext.tree.AsyncTreeNode({text: '模板根目录',id:'0'})  	});	var border = new Ext.Panel({		title:'面板title',		layout:'fit',		border:false,		height :200,	    tbar:[{text:'确定一'},'-',new Ext.form.TextField({id: 'paramCnName',width:60}),{text:'查找一'}],		bbar:[{text:'确定二'},'-',new Ext.form.TextField({id: 'aa',width:60}),{text:'查找二'}],		items: tree2  	});	comboxWithPanel.on('expand',function(){		border.render('panel');  	});  	comboxWithPanel.render('comboxWithPanel');});</script></head><body><p>简单扩展ComboBox+TreePanel [http://www.iteye.com/topic/164424]</p><div id="comboxWithTree"></div></br></br></br></br></br></br></br></br></br><p>简单扩展ComboBox+Panel</p><div id="comboxWithPanel"></div></body></html>