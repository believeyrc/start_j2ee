<?xml version="1.0" encoding="UTF-8"?><beans xmlns="http://www.springframework.org/schema/beans" 	   xmlns:aop="http://www.springframework.org/schema/aop" 	   xmlns:context="http://www.springframework.org/schema/context"	   xmlns:mvc="http://www.springframework.org/schema/mvc" 	   xmlns:tx="http://www.springframework.org/schema/tx" 	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"	   xsi:schemaLocation="http://www.springframework.org/schema/aop 		http://www.springframework.org/schema/aop/spring-aop-3.0.xsd 		http://www.springframework.org/schema/beans 		http://www.springframework.org/schema/beans/spring-beans-3.0.xsd 		http://www.springframework.org/schema/context 		http://www.springframework.org/schema/context/spring-context-3.0.xsd 		http://www.springframework.org/schema/mvc 		http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd 		http://www.springframework.org/schema/tx 		http://www.springframework.org/schema/tx/spring-tx-3.0.xsd">		<context:component-scan base-package="com.xuyuan.spring3" />	<!--  <mvc:annotation-driven />  --> 	<!-- 自动注册DefaultAnnotationHandlerMapping与AnnotationMethodHandlerAdapter 两个bean,是spring MVC为@Controllers分发请求所必须的。 	如果手动指定了这两个类，则不需要使用该配置了 -->		<!-- 	<bean class="org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter"/>	<bean name="/hello" class="com.xuyuan.spring3.mvc.helloworld.HelloController"/>	 -->	<bean id="helloController" class="com.xuyuan.spring3.mvc.helloworld.HelloController"></bean>    <bean id="regControl" class="com.xuyuan.spring3.mvc.helloworld.RegControl"></bean>     	<!-- 8 Spring @MVC -->	<bean id="reservationService" class="com.xuyuan.spring3.recipes.mvc.service.ReservationServiceImpl" />	<bean id="memberService" class="com.xuyuan.spring3.recipes.mvc.service.MemberServiceImpl" />	<bean id="measurementInterceptor" class="com.xuyuan.spring3.recipes.mvc.web.MeasurementInterceptor" />    <bean id="reservationBindingInitializer" class="com.xuyuan.spring3.recipes.mvc.web.ReservationBindingInitializer" />    <!--  <bean id="reservationValidator" class="com.xuyuan.spring3.recipes.mvc.domain.ReservationValidator" />  -->			<!-- HandlerMapping -->	<!-- xml配置映射：1.BeanName和URL的映射 -->	<!-- <bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"/>  -->	<!-- xml配置映射：2.手动配置Controller和URL的映射关系 -->	<bean id="simpleUrlHandlerMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">          <property name="mappings">              <props>                  <prop key="/hello.html">helloController</prop>                     <prop key="/reg.html">regControl</prop>                                     </props>          </property>      </bean>  	<!-- 注解方式将Bean和URL进行映射 -->	<bean class="org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping">         <property name="interceptors">             <list>                 <ref bean="measurementInterceptor" />             </list>         </property>     </bean>    <bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter"> 	    <property name="webBindingInitializer" ref="reservationBindingInitializer" /> 	</bean>		<!-- 8-7. Views and Content Negotiation   8-13. Creating Excel and PDF Views   -->	<bean id="contentNegotiatingResolver" class="org.springframework.web.servlet.view.ContentNegotiatingViewResolver">        <property name="order" value="1" />        <property name="ignoreAcceptHeader" value="true" />		<property name="favorParameter" value="false" />        <!--         <property name="mediaTypes">            <map>                  <entry key="html" value="text/html"/>                  <entry key="pdf" value="application/pdf"/>                  <entry key="xsl" value="application/vnd.ms-excel"/>                  <entry key="xml" value="application/xml"/>                  <entry key="json" value="application/json"/>            </map>        </property>        -->        <property name="contentNegotiationManager">            <bean class="org.springframework.web.accept.ContentNegotiationManager">                <constructor-arg>                    <bean class="org.springframework.web.accept.PathExtensionContentNegotiationStrategy">                        <constructor-arg>                            <map>                                <entry key="html" value="text/html"/>                  				<entry key="pdf" value="application/pdf"/>			                  	<entry key="xsl" value="application/vnd.ms-excel"/>			                  	<entry key="xml" value="application/xml"/>			                  	<entry key="json" value="application/json"/>                            </map>                        </constructor-arg>                    </bean>                </constructor-arg>            </bean>        </property>        <!-- JSON, XML, Excel, PDF -->        <property name="defaultViews">			<list>		  		<bean class="org.springframework.web.servlet.view.json.MappingJacksonJsonView" />				<bean class="org.springframework.web.servlet.view.xml.MarshallingView">								<constructor-arg>						<bean class="org.springframework.oxm.jaxb.Jaxb2Marshaller">						   <property name="classesToBeBound">								<list>									<value>com.xuyuan.spring3.recipes.mvc.domain.Reservation</value>									<value>com.xuyuan.spring3.recipes.mvc.domain.ReservationList</value>									<value>com.xuyuan.spring3.recipes.mvc.domain.Member</value> 								</list>						   </property>						</bean>					</constructor-arg>				</bean>				<bean class="com.xuyuan.spring3.recipes.mvc.web.views.ExcelReservationSummary"/>				<bean class="com.xuyuan.spring3.recipes.mvc.web.views.PdfReservationSummary"/>				</list>		</property>    </bean>        <!-- 7 Spring Web Flow -->    <import resource="classpath:applicationContext_webflow.xml"/>        <!-- 9 Spring REST -->    <!--     <bean id="membertemplate" class="org.springframework.web.servlet.view.xml.MarshallingView">        <constructor-arg>           <bean class="org.springframework.oxm.jaxb.Jaxb2Marshaller">               <property name="classesToBeBound">                 <list>                   <value>com.xuyuan.spring3.recipes.mvc.domain.Member</value>                 </list>               </property>           </bean>        </constructor-arg>   	</bean>  	 -->  	<bean id="restTemplate" class="org.springframework.web.client.RestTemplate">   	</bean>  	  	<!-- 使用资源配置的方式在views.properties,secondaryviews.properties中配置.和上面的bean class=""的定义作用一样    reservationSummary.(class)=com.xuyuan.spring3.recipes.mvc.web.views.ExcelReservationSummary    reservationSummary.(class)=com.xuyuan.spring3.recipes.mvc.web.views.PdfReservationSummary -->	<!--    <bean id="resourceBundleResolver" class="org.springframework.web.servlet.view.ResourceBundleViewResolver">        <property name="basename" value="views" />        <property name="order" value="#{contentNegotiatingResolver.order+1}" />   	</bean>    <bean id="secondaryResourceBundleResolver" class="org.springframework.web.servlet.view.ResourceBundleViewResolver">        <property name="basename" value="secondaryviews" />        <property name="order" value="#{resourceBundleResolver.order+1}" />    </bean>	-->    <bean id="internalResourceResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">    	<!-- <property name="viewClass" value="org.springframework.web.servlet.view.JstlView"/>  -->        <property name="prefix" value="/springmvc/" />        <property name="suffix" value=".jsp" />        <property name="order" value="5" />    </bean>     </beans>