package com.xuyuan.util.xml;import java.io.File;import java.util.HashMap;import java.util.Iterator;import java.util.Map;import org.dom4j.Document;import org.dom4j.DocumentException;import org.dom4j.DocumentHelper;import org.dom4j.Element;import org.dom4j.io.SAXReader;public class Dom4jUtil {	/**	 * 读取XML文件	 * @param xmlfilepath xml文件路径	 * @return Document对象	 * @throws DocumentException	 */	public static Document xmlFileToXMLDocument(String xmlfilepath) throws DocumentException{		SAXReader reader = new SAXReader();        return reader.read(new File(xmlfilepath));	}		/**	 * 解析XML形式的文本	 * @param xmlStr XML格式的文本字符串	 * @return Document对象	 * @throws DocumentException	 */	public static Document StrToXMLDocment(String xmlStr) throws DocumentException{		return DocumentHelper.parseText(xmlStr);	}		/**	 * 主动创建document对象	 * @return Document对象	 */	public static Document createDocument(){		return DocumentHelper.createDocument();	}		/**	 * Document对象转为字符串	 * @param document Document对象	 * @return XML格式字符串	 */	public static String XMLDocumentToStr(Document document){		return document.asXML();	}		/**	 * 节点下非空子节点的属性值	 * @param map	 * @param document	 */	public static Map buildMap(Document document){		Map map = new HashMap();		Element root = document.getRootElement();		for (Iterator it = root.elementIterator(); it.hasNext();) {			Element ele = (Element) it.next();			if(!"".equals(ele.getTextTrim())){				map.put(ele.getName(), ele.getTextTrim());			}		}		return map;	}}