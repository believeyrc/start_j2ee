package com.xuyuan.util;import java.io.BufferedInputStream;import java.io.BufferedOutputStream;import java.io.File;import java.io.FileInputStream;import java.io.FileOutputStream;import java.io.IOException;import java.io.InputStream;import java.io.OutputStream;/** * java应用集锦6:字符串base64加密解密 MD5加密 * http://www.iteye.com/blogs/subjects/renjie120 * @author Administrator * */public class Base64 {	private static sun.misc.BASE64Encoder encoder = new sun.misc.BASE64Encoder();	private static sun.misc.BASE64Decoder decoder = new sun.misc.BASE64Decoder();	/**	 * base64加密字符串.	 *	 * @param 初始字符串	 * @return 加密后的字符串	 */	public static String encode(String oldStr) {		return encoder.encode(oldStr.getBytes());	}	/**	 * base64解密字符串.	 * @param 加密字符串	 * @return 初始字符串	 */	public static String decode(String oldStr) throws IOException {		return new String(decoder.decodeBuffer(oldStr));	}	/**	 * base64编码输入流.	 * @param inputStream 输入流	 * @param outputStream 输出流	 * @throws IOException	 */	public static void encode(InputStream inputStream, OutputStream outputStream) throws IOException {		encoder.encode(inputStream, outputStream);		inputStream.close();		outputStream.close();	}	/**	 * base64解密输入流.	 * @param inputStream	 * @param outputStream	 * @throws IOException	 */	public static void decode(InputStream inputStream, OutputStream outputStream) throws IOException {		decoder.decodeBuffer(inputStream, outputStream);		inputStream.close();		outputStream.close();	}	/**	 * base64加密文件.	 * @param inFileName 源文件	 * @param outFileName 新的文件	 * @throws IOException	 */	public static void encode(String inFileName,String outFileName) throws IOException{		File oldFile = new File(inFileName);		File newFile = new File(outFileName);		InputStream input = new BufferedInputStream(new FileInputStream(oldFile));		OutputStream out = new BufferedOutputStream(new FileOutputStream(newFile));		Base64.encode(input, out);	}	/**	 * base64解密文件.	 * @param inFileName 源文件	 * @param outFileName 新的文件	 * @throws IOException	 */	public static void decode(String inFileName,String outFileName) throws IOException{		File oldFile = new File(inFileName);		File newFile = new File(outFileName);		InputStream input = new BufferedInputStream(new FileInputStream(oldFile));		OutputStream out = new BufferedOutputStream(new FileOutputStream(newFile));		Base64.decode(input, out);	}	public static void main(String[] a) throws IOException {		//Base64.encode("E:\\workplace\\testMyFrame\\bb.mp3","d:\\hah.base64");		//Base64.decode("d:\\hah.base64","d:\\ddd.mp3");		System.out.println(Base64.encode("ABC"));		System.out.println(Base64.decode("QUJD"));	}}