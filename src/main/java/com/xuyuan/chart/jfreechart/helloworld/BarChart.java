package com.xuyuan.chart.jfreechart.helloworld;import java.awt.Color;import java.io.FileOutputStream;import org.jfree.chart.ChartFactory;import org.jfree.chart.ChartUtilities;import org.jfree.chart.JFreeChart;import org.jfree.chart.axis.CategoryAnchor;import org.jfree.chart.axis.CategoryAxis;import org.jfree.chart.axis.NumberAxis;import org.jfree.chart.axis.ValueAxis;import org.jfree.chart.labels.StandardCategoryToolTipGenerator;import org.jfree.chart.plot.CategoryPlot;import org.jfree.chart.plot.DatasetRenderingOrder;import org.jfree.chart.plot.PlotOrientation;import org.jfree.chart.renderer.category.LineAndShapeRenderer;import org.jfree.data.category.DefaultCategoryDataset;/** * 报表应用系列——图表JFreeChart-0.0.1启动 * http://www.iteye.com/topic/457162 * http://tech.ddvip.com/2009-09/1253625388133994.html * @author 镜花水月@family168.com * * 柱状图 * 分组柱状图 */public class BarChart {	public static void main(String[] args) throws Exception {		//柱状图. 数据参数: 柱状矩形的长度，数据的名称，数据的分类		DefaultCategoryDataset dataset = new DefaultCategoryDataset();		dataset.addValue(100, "Spring Security", "Jan");		dataset.addValue(200, "jBPM 4", "Jan");		dataset.addValue(300, "Ext JS", "Jan");		dataset.addValue(400, "JFreeChart", "Jan");		//图表参数: 标题,横轴名称,纵轴名称,数据,使用垂直/水平柱状图,是否使用legend,tooltip,url,链接		JFreeChart chart = ChartFactory.createBarChart("chart","num","type",dataset,PlotOrientation.VERTICAL,true,false,false);		//JFreeChart chart = ChartFactory.createBarChart("chart","num","type",dataset,PlotOrientation.HORIZONTAL,true,false,false);		//JFreeChart chart = ChartFactory.createBarChart3D("chart","num","type",dataset,PlotOrientation.VERTICAL,true,false,false);		//分组柱状图: 支持分组统计，在addValue()时为数据指定分组类型，显示柱状图时会自动根据类别分组显示。		dataset.addValue(60, "Spring Security", "Fer");		dataset.addValue(100, "jBPM 4", "Fer");		dataset.addValue(340, "Ext JS", "Fer");		dataset.addValue(130, "JFreeChart", "Fer");		//dataset.addValue(-20, "Ext　JS", "Feb");//为dataset添加一个负值，就可以在图标上显示出负向坐标了		FileOutputStream fos = new FileOutputStream("/tmp/bar1.png");		ChartUtilities.writeChartAsPNG(fos, chart, 400, 300);	}	private static void setChartStyle(JFreeChart chart, DefaultCategoryDataset dataset){		//柱状图样式:		CategoryPlot categoryplot = (CategoryPlot) chart.getPlot();		categoryplot.setDomainGridlinePosition(CategoryAnchor.MIDDLE);		categoryplot.setRangeGridlinesVisible(true);// 横网格线		categoryplot.setDomainGridlinesVisible(false);// 竖风格线		categoryplot.setDatasetRenderingOrder(DatasetRenderingOrder.FORWARD);		categoryplot.setDataset(1, dataset);		categoryplot.mapDatasetToRangeAxis(1, 1);		// 横轴		CategoryAxis domainAxis = categoryplot.getDomainAxis();		domainAxis.setCategoryMargin(0.2);		// 竖轴		//ValueAxis valueaxis = categoryplot.getRangeAxis();		//valueaxis.setRange(0.0D, 500D);// 设置数值显示范围		// 设置右边的Y轴		NumberAxis numberaxis = new NumberAxis("NO");		numberaxis.setRange(0,400);		categoryplot.setRangeAxis(1, numberaxis);		LineAndShapeRenderer lineandshaperenderer = new LineAndShapeRenderer();		lineandshaperenderer.setBaseToolTipGenerator(new StandardCategoryToolTipGenerator());		lineandshaperenderer.setSeriesPaint(0, new Color(255, 137, 255));		lineandshaperenderer.setSeriesPaint(1, new Color(0, 11, 220));		categoryplot.setRenderer(1, lineandshaperenderer);		categoryplot.setDatasetRenderingOrder(DatasetRenderingOrder.FORWARD);	}}