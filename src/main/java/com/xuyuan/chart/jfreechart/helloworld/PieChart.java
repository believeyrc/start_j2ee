package com.xuyuan.chart.jfreechart.helloworld;import java.io.FileOutputStream;import org.jfree.chart.ChartFactory;import org.jfree.chart.ChartUtilities;import org.jfree.chart.JFreeChart;import org.jfree.chart.plot.PiePlot;import org.jfree.data.category.DefaultCategoryDataset;import org.jfree.data.general.DefaultPieDataset;import org.jfree.util.TableOrder;/** * 饼图 * 多重饼图 * @author Administrator * */public class PieChart {	public static void main(String[] args) throws Exception {		//数据参数: 数据的名称; 数据的值		DefaultPieDataset dataset = new DefaultPieDataset();		dataset.setValue("Spring Security", 100);		dataset.setValue("jBPM 4", 200);		dataset.setValue("Ext JS", 300);		dataset.setValue("JFreeChart", 100);		//标题,数据,是否使用legend,tooltip,url		JFreeChart chart = ChartFactory.createPieChart("chart", dataset, true, false, false);		//如果设置了值为0或null的值，图表中会显示标签，但是我们看不到数值		dataset.setValue("null", null);		dataset.setValue("zero", 0);		setChartStyle(chart);		FileOutputStream fos = new FileOutputStream("/tmp/pie1.png");		ChartUtilities.writeChartAsPNG(fos, chart, 400, 300);		//**************************************************		//多重饼图: 使用多重饼图，必须先把PieDataset改成CategoryDataset.(BarChart使用的DataSet)		DefaultCategoryDataset dataset2 = new DefaultCategoryDataset();		dataset2.addValue(100, "Spring Security", "Jan");		dataset2.addValue(200, "jBPM 4", "Jan");		dataset2.addValue(300, "Ext JS", "Jan");		dataset2.addValue(100, "JFreeChart", "Jan");		dataset2.addValue(60, "Spring Security", "Fer");		dataset2.addValue(100, "jBPM 4", "Fer");		dataset2.addValue(340, "Ext JS", "Fer");		dataset2.addValue(130, "JFreeChart", "Fer");		// 按列分割饼图，addValue中的第三个参数		chart = ChartFactory.createMultiplePieChart("chart", dataset2, TableOrder.BY_COLUMN, true, false, false);		fos = new FileOutputStream("/tmp/pie2.png");		ChartUtilities.writeChartAsPNG(fos, chart, 800, 300);	}	private static void setChartStyle(JFreeChart chart){		//炸开的饼图: 把饼图中的某一部分提取出来，强调显示		PiePlot plot = (PiePlot) chart.getPlot();		plot.setExplodePercent("JFreeChart", 0.3);		//如果不希望在图表中显示为空的数据.JFreeChart会一直忽略负值，不需要特殊处理就不会显示在图表中		plot.setIgnoreZeroValues(true);		plot.setIgnoreNullValues(true);	}}