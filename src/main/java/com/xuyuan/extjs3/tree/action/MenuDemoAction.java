package com.xuyuan.extjs3.tree.action;import java.util.ArrayList;import java.util.List;import net.sf.json.JSONArray;import com.xuyuan.extjs3.tree.bean.Menu;/** * ExtJS Tree + JSON + Struts2 * http://www.blogjava.net/usherlight/archive/2008/02/19/180590.html * * http://localhost:8888/start_j2ee/extjs3/menu_demo.jsp * @author Administrator * */public class MenuDemoAction {	/**	 * @uml.property  name="menus"	 */	private List<Menu> menus;	/**	 * @uml.property  name="jsonString"	 */	private String jsonString;	private List<Menu> getDemoData() {		menus = new ArrayList<Menu>();		List<Menu> benzList = new ArrayList<Menu>();		benzList.add(new Menu(11, "S600", "file", true));		benzList.add(new Menu(12, "SLK200", "file", true));		List<Menu> bmwList = new ArrayList<Menu>();		bmwList.add(new Menu(21, "3333i", "file", true));		Menu benz = new Menu(10, "Beanz", "folder", false);		Menu bmw = new Menu(20, "BMW", "foler", false);		benz.setChildren(benzList);		bmw.setChildren(bmwList);		menus.add(benz);		menus.add(bmw);		return menus;	}	public String execute() {		//获取数据		menus = this.getDemoData();		//将数据Bean转为JSONArray对象.即为页面上需要的JSON字符串形式.能够被ExtJS解析.		JSONArray jsonObject = JSONArray.fromObject(menus);		jsonString = jsonObject.toString();		System.out.println("jsonString:" + jsonString);		return "success";	}	/**	 * @return	 * @uml.property  name="jsonString"	 */	public String getJsonString() {		return jsonString;	}	/**	 * @param jsonString	 * @uml.property  name="jsonString"	 */	public void setJsonString(String jsonString) {		this.jsonString = jsonString;	}}