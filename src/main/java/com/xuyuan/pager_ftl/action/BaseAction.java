package com.xuyuan.pager_ftl.action;import java.util.Map;import javax.servlet.http.HttpServletRequest;import org.apache.struts2.ServletActionContext;import org.springframework.orm.hibernate3.HibernateTemplate;import com.opensymphony.xwork2.ActionContext;import com.opensymphony.xwork2.ActionSupport;import com.opensymphony.xwork2.util.ValueStack;import com.xuyuan.pager_ftl.util.QueryUtil;import com.xuyuan.util.Constants;/** * 分层设计中Action只负责业务逻辑的跳转执行，而真正的逻辑处理是在Service层进行的 * @author Administrator * */public class BaseAction extends ActionSupport{	protected int pageNum = 1;	protected int pageSize = Constants.DEFAULT_PAGE_SIZE;		public String execute() throws Exception {          return SUCCESS;      }  		/**	 * 获取Request	 */	public HttpServletRequest getRequest(){		return ServletActionContext.getRequest();	}		/**	 * 获取Parameters 	 */	public Map<String, Object> getParameters(){		return ActionContext.getContext().getParameters();	}		/**	 * 页面解析分页信息使用的方法	 */	public String getQueryStringWithoutPageNum() {		Map m = getParameters();		m.remove("pageNum");		return QueryUtil.getQueryString(m);	}	public String getFullUrlWithoutPageNum() {		return getRequest().getServletPath() + "?" + getQueryStringWithoutPageNum();	}		public String getQueryStringWithoutPageInfo() {		Map m = getParameters();		m.remove("pageNum");		m.remove("pageSize");		return QueryUtil.getQueryString(m);	}	public String getFullUrlWithoutPageInfo() {		return getRequest().getServletPath() + "?" + getQueryStringWithoutPageInfo();	}		/**	 * 分页信息传递	 */	public int getPageNum() {		return pageNum;	}	public void setPageNum(int pageNum) {		this.pageNum = pageNum;	}	public int getPageSize() {		return pageSize;	}	public void setPageSize(int pageSize) {		this.pageSize = pageSize;	}	public int getMaxPageSize() {		return Constants.MAX_PAGE_SIZE;	}	public int getDefaultPageSize() {		return Constants.DEFAULT_PAGE_SIZE;	}}