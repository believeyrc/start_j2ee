package com.xuyuan.hibernate3.model.test;import java.util.Date;import org.hibernate.Session;import org.hibernate.Transaction;import com.xuyuan.hibernate3.model.IdCard;import com.xuyuan.hibernate3.model.Person;import com.xuyuan.hibernate3.util.HibernateUtil;/** * 一个人有一个身份证，而一个身份证只属于某一个人 * 主键关联：从表的主键同时又作为外键参考主表的主键。比如在下面的实例中，人作为主表，身份证作为从表 * person.hbm.xml * * idcard.hbm.xml * * @author Administrator * */public class One2OneTest {	public static void main(String[] args) {		add();	}	static void add() {		Session s = null;		Transaction tr = null;		try {			s = HibernateUtil.getSession();			tr = s.beginTransaction();			Person person = new Person();			person.setName("pName");			IdCard idCard = new IdCard();			idCard.setValidity(new Date());			//分别注释掉以下两句，看程序执行情况			//person.setIdCard(idCard);			//idCard.setPerson(person);			s.save(person);			s.save(idCard);			tr.commit();		} finally {			if (s != null)				s.close();		}	}}